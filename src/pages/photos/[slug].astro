---
import type {
  InferGetStaticParamsType,
  InferGetStaticPropsType,
  GetStaticPaths
} from "astro";
import { Image } from "astro:assets";
import Page from "@/layouts/MainLayout.astro";
import { photos } from "@/content";

export const getStaticPaths = (() => 
  photos.map((image, index) => ({
    params: { slug: (index + 1) },
    props: { image, index },
  }))
) satisfies GetStaticPaths;

type Props = InferGetStaticPropsType<typeof getStaticPaths>;
type Params = InferGetStaticParamsType<typeof getStaticPaths>;

const { image } = Astro.props;
---

<Page
  title={image.alt}
  class="flex flex-col items-center"
>
  <figure class="
    mt-30 md:mt-36 mx-4 border-white border-12
    shadow-xl
  ">
    <Image { ...image }/>
  </figure>
</Page>
