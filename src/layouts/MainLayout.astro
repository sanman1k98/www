---
import Banner from '@/components/Banner.astro';
import Footer from '@/components/Footer.astro';
import Perlin from '@/components/Perlin.astro';
import { unoTheme } from '@/utils';
import BaseLayout, { type HeadMetaProps } from './BaseLayout.astro';

type Props = HeadMetaProps & {
	/** Will be added to the `<main>` element. */
	class?: string;
};

const { class: className, ...meta } = Astro.props;
---

<style is:global>
	body {
		background-color: white;
	}
	.safe-area-padding {
		padding-inline: env(safe-area-inset-left) env(safe-area-inset-right);
	}
</style>

<BaseLayout
	{...meta}
	class="relative min-h-screen flex flex-col"
>
	<Fragment slot="head">
		<meta name="theme-color" content={unoTheme.colors.sky[200]} />
		<slot name="head" />
	</Fragment>

	{/* A noise pattern background to fill the whole page. */}
	<Perlin class="absolute inset-0 -z-50">
		{/* A gradient on top of the noise. */}
		<div class="absolute inset-0 from-sky-50/85 via-sky-100/60 from-50% via-90% bg-gradient-to-b">
		</div>
	</Perlin>

	{/* Site logo and navigation components. */}
	<Banner class="pb-1" />

	{/* Slot for main content. */}
	<main
		class="grow text-sky-950"
		class:list={[className]}
	>
		<slot />
	</main>

	{/* Other links and copyright information. */}
	<Footer class="w-full from-transparent to-white to-50% bg-gradient-to-b pb-18 pt-48" />
</BaseLayout>
