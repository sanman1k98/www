---
import type { CollectionEntry } from "astro:content";

type Props = { entry?: CollectionEntry<"cv"> };
const { entry } = Astro.props;
let Content;

if (entry) {
  const rendered = await entry.render();
  Content = rendered.Content;
}
---

<article class="m-3">
  <header>
    {Astro.slots.has("heading") && (
      <h3>
        <slot name="heading"/>
      </h3>
    )}
    <slot />
    {Astro.slots.has("subheading") && (
      <p>
        <slot name="subheading"/>
      </p>
    )}
    <slot name="after-subheading"/>
  </header>
  {Content && <Content />}
</article>
