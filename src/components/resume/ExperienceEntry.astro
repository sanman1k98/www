---
import Entry from "./BaseEntry.astro";
import DateRange from "./DateRange.astro";
import {
  type CvEntry,
  createCvEntryTypeGuard as isType,
} from "@/content";

type Props = { entry: CvEntry<"experience"> | CvEntry<"volunteering"> };
const { entry } = Astro.props;

let orgName;
if (isType("experience")(entry)) orgName = entry.data.employer.name;
else orgName = entry.data.organization.name;
---

<Entry { entry }>
  <Fragment slot="heading">{entry.data.title}</Fragment>
  <Fragment slot="subheading">{orgName}</Fragment>
  <DateRange slot="after-subheading" { entry }/>
</Entry>
